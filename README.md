# git-mistakes

Исправить ошибку в последнем коммите

```sh
➜ git commit --amend -m "Adding readme.md to git-mistakes"
```



Откатить файлы из `commit-a` в `Untracked` состояние

```sh
➜ git reset HEAD~1 // На одно изменение назад
```

```sh
➜ git reset xxx // На конкретный коммит
```



## Уровни отката изменений

1) Мягкий (не изменяется стратегия в git add .): --soft
```sh
➜ git reset --soft HEAD~1
```

2) Жесткий (все файлы в состояние `Untracked`): --mixed
```sh
➜ git reset --mixed HEAD~1
```

3) Опасный (удалит все файлы): --hard


## Отменить коммит, который уже был Запушен
```sh
➜ git revert xxx
```


## Грамотное удаление веток

1) Удаляем на сервере ветку потом выполняем команду в локальной сборке:

```sh
➜ git remote prune origin --dry-run // Покажет, какая ветка удалена на сервере
```

```sh
➜ git remote prune origin // Установит ветку в состояние для удаления
```

```sh
➜ git remote -d xxx // Удаляем саму ветку
```

## Изменить старый коммит

```sh
➜ git rebase -i HEAD~3 // Войти в интерактивный режим
```
Изменяем в интреактивном режиме запись `pick` на `reword` сохраняем

Изменяем сам коммит

## Удалить секретный файл с удаленного репозитория

Помещаем секретный файл в `.gitignore`

```sh
➜ git rm -r --cached . // Выполняем команду
```

```sh
➜ git add . // Выполняем команду
```

```sh
➜ git push // Выполняем команду
```